#!/usr/bin/env ruby

require 'tins/go'
include Tins::GO
require 'tins/xt/string'

opts = go 'bd'

string  = ARGV.shift or fail "need a class/filepath/filename"

if opts['d']
  string = string.sub(/.*::/, '') if opts['b']
  print string.underscore + '.rb'
else
  string = File.basename(string) if opts['b']
  string = string.gsub(/#{Regexp.quote(File.extname(string))}\Z/, '')
  print string.camelize
end
