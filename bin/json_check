#!/usr/bin/env ruby
#
# JSON validator - Check if input is valid JSON
#
# Usage: json_check [FILE]
#
# Validates JSON from stdin or specified file. Exits with:
#   0 - Valid JSON
#   1 - Invalid JSON (with error details on stderr)
#
# Examples:
#   echo '{"key": "value"}' | json_check     # Validate stdin
#   json_check data.json                     # Validate file
#   json_check < data.json                   # Validate with input redirection

require 'json'

begin
  JSON.parse(ARGF.read)
  exit 0
rescue JSON::ParserError => e
	STDERR.puts "#{e.class}: #{e}"
  exit 1
end
